<!doctype html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>éƒ¨ä»¶å¿«åç·´ç¿’ Â· MVP</title>
<style>
:root{ --bg:#0b0f14; --fg:#e6e6e6; --muted:#9aa4ad; --panel:#121821; --accent:#30d158; --warn:#ff453a; }
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--fg);font-family:system-ui,"Noto Sans TC",sans-serif}
.app{max-width:720px;margin:0 auto;padding:16px 16px 96px}
header{display:flex;justify-content:space-between;align-items:center;padding:10px 0;gap:8px}
.h1{font-weight:800;font-size:20px}
.toolbar{display:flex;gap:8px;align-items:center;justify-content:center}
.toolbar.bottom{position:fixed;bottom:0;left:0;width:100%;background:#0b0f14;padding:16px 12px;border-top:2px solid #2a323c;z-index:10}
.btn{background:var(--accent);color:#002b11;border:0;border-radius:14px;padding:12px 16px;font-weight:800;cursor:pointer;white-space:nowrap}
.btn.ghost{background:transparent;border:2px solid var(--fg);color:var(--fg)}
.btn.sm{padding:4px 10px;font-size:12px;border-radius:999px}
.btn.tab-active{background:var(--fg);color:#0b0f14}
#mic.on{border-color:var(--accent);color:var(--accent);animation:blink 1s infinite ease-in-out}
@keyframes blink{0%,100%{opacity:1}50%{opacity:0.45}}
.panel{background:var(--panel);border-radius:16px;padding:18px;box-shadow:0 8px 24px rgba(0,0,0,.35);margin-top:8px}
#prompt{font-size:clamp(64px,16vw,120px);font-weight:900;text-align:center;letter-spacing:2px;margin:8px 0 12px}
.choices{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
.choice{background:#fff;color:#0b0f14;border:2px solid #3a424d;border-radius:14px;padding:20px;font-size:28px;cursor:pointer}
.choice.glyph{font-size:96px;font-weight:900}
.choice:focus{outline:3px solid var(--accent)}
.hint{margin-top:12px;background:#f7d774;color:#000;padding:10px 12px;border-radius:8px;font-weight:bold;display:block;min-height:42px}
.mic-icon{display:inline-block;animation:pulse 1s infinite}
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.25)} }
.stats{margin-top:8px;color:var(--muted);font-size:14px}
hr{border:none;border-top:1px solid #2a323c;margin:12px 0}

/* å¤§æŒ‰éˆ•æ¨¡å¼ï¼ˆé è¨­å•Ÿç”¨ï¼‰ */
body.big .btn{padding:16px 22px;font-size:20px}
body.big .choice{padding:24px;font-size:32px}
body.big .choice.glyph{font-size:110px}

/* ç·´ç¿’ç•«é¢ï¼šçœ‹â†’èªª / è½â†’æ‰¾ */
.mode-see .app{max-width:min(1200px,92vw);padding:24px 24px 120px}
.mode-see #prompt{font-size:clamp(120px,22vw,260px)}
.mode-see .panel.practice-panel{min-height:80vh;display:flex;flex-direction:column;justify-content:center}

.mode-hear #prompt{font-size:clamp(36px,6vw,56px);margin-top:4vh;margin-bottom:2vh;text-align:center}
.mode-hear .choice{padding:18px;font-size:min(6vw,30px)}
.mode-hear .choice.glyph{font-size:clamp(64px,12vw,100px)}
body.big.mode-hear .btn{padding:16px 22px;font-size:20px}
.mode-hear .toolbar.bottom{padding:16px 12px}
.mode-hear #mic{display:none}
.mode-hear .app{max-width:min(1200px,92vw);padding:24px 24px 120px}
.mode-hear .panel.practice-panel{min-height:70vh;display:flex;flex-direction:column;justify-content:center}
/* è½â†’æ‰¾ï¼šä¸€æ’å››å€‹ */
.mode-hear .choices{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:14px;align-items:stretch;justify-items:stretch}
/* è½â†’æ‰¾ï¼šå­—å¡æ¨£å¼ */
.mode-hear .choice{background:#ffffff;border:2px solid #e5e7eb;color:#0b0f14;border-radius:16px;box-shadow:0 6px 18px rgba(0,0,0,.25);padding:16px}
.mode-hear .choice.glyph{font-size:clamp(56px,10vw,96px);font-weight:900}
.mode-hear .choice:hover{outline:2px solid rgba(48,209,88,.5)}

/* ç®¡ç†é é¢ */
#bank-screen h2{margin:4px 0 8px;font-size:18px}
#bank-screen p{margin:4px 0 12px;font-size:14px;color:var(--muted)}
.bank-form-row{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:10px}
.bank-form-row label{display:flex;flex-direction:column;font-size:12px;color:var(--muted);min-width:0;flex:1}
.bank-form-row input,
.bank-form-row select{margin-top:4px;border-radius:8px;border:1px solid #2a323c;padding:8px 10px;background:#05070b;color:var(--fg);font-size:14px}
#bank-list table{width:100%;border-collapse:collapse;margin-top:8px;font-size:14px}
#bank-list th,#bank-list td{border-bottom:1px solid #2a323c;padding:6px 4px;text-align:left}
#bank-list th{color:var(--muted);font-weight:600;font-size:12px}
.bank-empty{font-size:14px;color:var(--muted);margin-top:12px}

/* Dï¼šæ•´é«”æŒ‰éµç•¥ç¸®å°ï¼ˆå·²è¦†å¯«ï¼‰ */
body.big.mode-hear .btn{padding:16px 22px;font-size:20px}
.toolbar.bottom .btn{padding:16px 22px;font-size:20px}
</style>
</head>
<body class="big mode-see">
<div class="app" role="application" aria-label="éƒ¨ä»¶å¿«åç·´ç¿’">
  <header>
    <div class="h1">éƒ¨ä»¶å¿«åç·´ç¿’ Â· MVPï¼ˆCanvas é è¦½ï¼‰</div>
    <div class="toolbar">
      <button id="nav-practice" class="btn ghost btn.tab-active">ç·´ç¿’</button>
      <button id="nav-bank" class="btn ghost">é¡Œåº«ç®¡ç†</button>
    </div>
  </header>

  <!-- ç·´ç¿’ç•«é¢ -->
  <section id="practice-screen" class="panel practice-panel" aria-live="polite" aria-atomic="true">
    <div id="prompt">â€”</div>
    <div id="choices" class="choices"></div>
    <div id="hint" class="hint"></div>
    <hr>
    <div id="stats" class="stats"></div>
  </section>

  <!-- é¡Œåº«ç®¡ç†ç•«é¢ -->
  <section id="bank-screen" class="panel" style="display:none">
    <h2>é¡Œåº«ç®¡ç†</h2>
    <p>åœ¨é€™è£¡æ–°å¢ï¼ç·¨è¼¯è¦ç·´ç¿’çš„éƒ¨ä»¶å’Œè®€éŸ³ã€‚å„²å­˜å¾Œï¼Œç·´ç¿’ç•«é¢æœƒä½¿ç”¨ä½ è‡ªè¨‚çš„é¡Œåº«ã€‚</p>

    <form id="bank-form" autocomplete="off">
      <div class="bank-form-row">
        <label>
          å­—ï¼éƒ¨ä»¶
          <input id="bank-glyph" required maxlength="2" placeholder="ä¾‹å¦‚ï¼šæ°µ">
        </label>
        <label>
          è®€éŸ³ï¼åç¨±
          <input id="bank-name" required placeholder="ä¾‹å¦‚ï¼šæ°´éƒ¨">
        </label>
        <label>
          åˆ†é¡ groupï¼ˆå¯è‡ªè¨‚ï¼‰
          <input id="bank-group" required placeholder="ä¾‹å¦‚ï¼šwater / æ‰‹éƒ¨ / ä½å¹´ç´š">
        </label>
      </div>
      <div class="bank-form-row" style="align-items:flex-end">
        <div style="flex:1;font-size:12px;color:var(--muted)" id="bank-edit-status">
          æ–°å¢æ¨¡å¼ï¼šè¼¸å…¥ä¸Šé¢ä¸‰æ¬„æŒ‰ä¸‹ã€Œå„²å­˜åˆ°é¡Œåº«ã€å³å¯åŠ å…¥é¡Œåº«ã€‚
        </div>
        <button type="submit" class="btn">å„²å­˜åˆ°é¡Œåº«</button>
      </div>
    </form>

    <div id="bank-list"></div>
  </section>

  <div class="toolbar bottom">
    <button id="mode" class="btn">æ¨¡å¼ï¼šçœ‹â†’èªª</button>
    <button id="replay" class="btn ghost" style="display:none">ğŸ”Š å†å”¸ä¸€æ¬¡</button>
    <button id="mic" class="btn ghost">ğŸ™ èª
